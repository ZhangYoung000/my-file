(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["front"],{"0b77":function(t,e){var r={settings:{width:100,barWidth:1,barHeight:50,moduleSize:1,showHRI:!1,addQuietZone:!1,marginHRI:0,bgColor:"transparent",color:"#000000",fontSize:12,output:"svg",posX:0,posY:0},intval:function(t){var e=typeof t;return"string"==e?(t=t.replace(/[^0-9-.]/g,""),t=parseInt(1*t,10),isNaN(t)||!isFinite(t)?0:t):"number"==e&&isFinite(t)?Math.floor(t):0},i25:{encoding:["NNWWN","WNNNW","NWNNW","WWNNN","NNWNW","WNWNN","NWWNN","NNNWW","WNNWN","NWNWN"],compute:function(t,e,i){if(e){"int25"==i&&t.length%2==0&&(t="0"+t);for(var n,a=!0,o=0,s=t.length-1;s>-1;s--){if(n=r.intval(t.charAt(s)),isNaN(n))return"";o+=a?3*n:n,a=!a}t+=((10-o%10)%10).toString()}else t.length%2!=0&&(t="0"+t);return t},getDigit:function(t,e,r){if(t=this.compute(t,e,r),""==t)return"";var i;if(result="","int25"==r){var n,a;for(result+="1010",s=0;s<t.length/2;s++)for(n=t.charAt(2*s),a=t.charAt(2*s+1),i=0;i<5;i++)result+="1","W"==this.encoding[n].charAt(i)&&(result+="1"),result+="0","W"==this.encoding[a].charAt(i)&&(result+="0");result+="1101"}else if("std25"==r){var o;result+="11011010";for(var s=0;s<t.length;s++)for(o=t.charAt(s),i=0;i<5;i++)result+="1","W"==this.encoding[o].charAt(i)&&(result+="11"),result+="0";result+="11010110"}return result}},ean:{encoding:[["0001101","0100111","1110010"],["0011001","0110011","1100110"],["0010011","0011011","1101100"],["0111101","0100001","1000010"],["0100011","0011101","1011100"],["0110001","0111001","1001110"],["0101111","0000101","1010000"],["0111011","0010001","1000100"],["0110111","0001001","1001000"],["0001011","0010111","1110100"]],first:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],getDigit:function(t,e){var i,n="ean8"==e?7:12;if(t=t.substring(0,n),t.length!=n)return"";for(var a=0;a<t.length;a++)if(i=t.charAt(a),i<"0"||i>"9")return"";t=this.compute(t,e);var o="101";if("ean8"==e){for(a=0;a<4;a++)o+=this.encoding[r.intval(t.charAt(a))][0];o+="01010";for(a=4;a<8;a++)o+=this.encoding[r.intval(t.charAt(a))][2]}else{var s=this.first[r.intval(t.charAt(0))];for(a=1;a<7;a++)o+=this.encoding[r.intval(t.charAt(a))][r.intval(s.charAt(a-1))];o+="01010";for(a=7;a<13;a++)o+=this.encoding[r.intval(t.charAt(a))][2]}return o+="101",o},compute:function(t,e){var i="ean13"==e?12:7;t=t.substring(0,i);for(var n=0,a=!0,o=t.length-1;o>-1;o--)n+=(a?3:1)*r.intval(t.charAt(o)),a=!a;return t+((10-n%10)%10).toString()}},upc:{getDigit:function(t){return t.length<12&&(t="0"+t),r.ean.getDigit(t,"ean13")},compute:function(t){return t.length<12&&(t="0"+t),r.ean.compute(t,"ean13").substr(1)}},msi:{encoding:["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"],compute:function(t,e){return"object"==typeof e?("mod10"==e.crc1?t=this.computeMod10(t):"mod11"==e.crc1&&(t=this.computeMod11(t)),"mod10"==e.crc2?t=this.computeMod10(t):"mod11"==e.crc2&&(t=this.computeMod11(t))):"boolean"==typeof e&&e&&(t=this.computeMod10(t)),t},computeMod10:function(t){var e,i=t.length%2,n=0,a=0;for(e=0;e<t.length;e++)i?n=10*n+r.intval(t.charAt(e)):a+=r.intval(t.charAt(e)),i=!i;var o=(2*n).toString();for(e=0;e<o.length;e++)a+=r.intval(o.charAt(e));return t+((10-a%10)%10).toString()},computeMod11:function(t){for(var e=0,i=2,n=t.length-1;n>=0;n--)e+=i*r.intval(t.charAt(n)),i=7==i?2:i+1;return t+((11-e%11)%11).toString()},getDigit:function(t,e){var r="0123456789",n=0,a="";for(t=this.compute(t,!1),a="110",i=0;i<t.length;i++){if(n=r.indexOf(t.charAt(i)),n<0)return"";a+=this.encoding[n]}return a+="1001",a}},code11:{encoding:["101011","1101011","1001011","1100101","1011011","1101101","1001101","1010011","1101001","110101","101101"],getDigit:function(t){var e,r,i="0123456789-",n="",a="0";for(n="1011001"+a,e=0;e<t.length;e++){if(r=i.indexOf(t.charAt(e)),r<0)return"";n+=this.encoding[r]+a}var o=0,s=0,l=1,c=0;for(e=t.length-1;e>=0;e--)o=10==o?1:o+1,l=10==l?1:l+1,r=i.indexOf(t.charAt(e)),s+=o*r,c+=l*r;var u=s%11;c+=u;var h=c%11;return n+=this.encoding[u]+a,t.length>=10&&(n+=this.encoding[h]+a),n+="1011001",n}},code39:{encoding:["101001101101","110100101011","101100101011","110110010101","101001101011","110100110101","101100110101","101001011011","110100101101","101100101101","110101001011","101101001011","110110100101","101011001011","110101100101","101101100101","101010011011","110101001101","101101001101","101011001101","110101010011","101101010011","110110101001","101011010011","110101101001","101101101001","101010110011","110101011001","101101011001","101011011001","110010101011","100110101011","110011010101","100101101011","110010110101","100110110101","100101011011","110010101101","100110101101","100100100101","100100101001","100101001001","101001001001","100101101101"],getDigit:function(t){var e,r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",n="",a="0";if(t.indexOf("*")>=0)return"";for(t=("*"+t+"*").toUpperCase(),e=0;e<t.length;e++){if(r=i.indexOf(t.charAt(e)),r<0)return"";e>0&&(n+=a),n+=this.encoding[r]}return n}},code93:{encoding:["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],getDigit:function(t,e){var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%____*",n="";if(t.indexOf("*")>=0)return"";for(t=t.toUpperCase(),n+=this.encoding[47],i=0;i<t.length;i++){if(c=t.charAt(i),index=r.indexOf(c),"_"==c||index<0)return"";n+=this.encoding[index]}if(e){var a=0,o=0,s=1,l=0;for(i=t.length-1;i>=0;i--)a=20==a?1:a+1,s=15==s?1:s+1,index=r.indexOf(t.charAt(i)),o+=a*index,l+=s*index;var c=o%47;l+=c;var u=l%47;n+=this.encoding[c],n+=this.encoding[u]}return n+=this.encoding[47],n+="1",n}},code128:{encoding:["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","11000111010"],getDigit:function(t){var e=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",i="",n=0,a=0,o=0,s=0,l=0;for(o=0;o<t.length;o++)if(-1==e.indexOf(t.charAt(o)))return"";var c=t.length>1,u="";for(o=0;o<3&&o<t.length;o++)u=t.charAt(o),c&=u>="0"&&u<="9";n=c?105:104,i=this.encoding[n],o=0;while(o<t.length){if(c)(o==t.length||t.charAt(o)<"0"||t.charAt(o)>"9"||t.charAt(o+1)<"0"||t.charAt(o+1)>"9")&&(c=!1,i+=this.encoding[100],n+=100*++a);else{s=0;while(o+s<t.length&&t.charAt(o+s)>="0"&&t.charAt(o+s)<="9")s++;c=s>5||o+s-1==t.length&&s>3,c&&(i+=this.encoding[99],n+=99*++a)}c?(l=r.intval(t.charAt(o)+t.charAt(o+1)),o+=2):(l=e.indexOf(t.charAt(o)),o+=1),i+=this.encoding[l],n+=++a*l}return i+=this.encoding[n%103],i+=this.encoding[106],i+="11",i}},codabar:{encoding:["101010011","101011001","101001011","110010101","101101001","110101001","100101011","100101101","100110101","110100101","101001101","101100101","1101011011","1101101011","1101101101","1011011011","1011001001","1010010011","1001001011","1010011001"],getDigit:function(t){var e,r,i="0123456789-$:/.+",n="",a="0";for(n+=this.encoding[16]+a,e=0;e<t.length;e++){if(r=i.indexOf(t.charAt(e)),r<0)return"";n+=this.encoding[r]+a}return n+=this.encoding[16],n}},datamatrix:{lengthRows:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,8,8,12,12,16,16],lengthCols:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,18,32,26,36,36,48],dataCWCount:[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558,5,10,16,22,32,49],solomonCWCount:[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620,7,11,14,18,24,28],dataRegionRows:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,6,6,10,10,14,14],dataRegionCols:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,16,14,24,16,16,22],regionRows:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,1,1,1,1,1],regionCols:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,2,1,2,2,2],interleavedBlocks:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,4,4,4,6,6,8,8,1,1,1,1,1,1],logTab:[-255,255,1,240,2,225,241,53,3,38,226,133,242,43,54,210,4,195,39,114,227,106,134,28,243,140,44,23,55,118,211,234,5,219,196,96,40,222,115,103,228,78,107,125,135,8,29,162,244,186,141,180,45,99,24,49,56,13,119,153,212,199,235,91,6,76,220,217,197,11,97,184,41,36,223,253,116,138,104,193,229,86,79,171,108,165,126,145,136,34,9,74,30,32,163,84,245,173,187,204,142,81,181,190,46,88,100,159,25,231,50,207,57,147,14,67,120,128,154,248,213,167,200,63,236,110,92,176,7,161,77,124,221,102,218,95,198,90,12,152,98,48,185,179,42,209,37,132,224,52,254,239,117,233,139,22,105,27,194,113,230,206,87,158,80,189,172,203,109,175,166,62,127,247,146,66,137,192,35,252,10,183,75,216,31,83,33,73,164,144,85,170,246,65,174,61,188,202,205,157,143,169,82,72,182,215,191,251,47,178,89,151,101,94,160,123,26,112,232,21,51,238,208,131,58,69,148,18,15,16,68,17,121,149,129,19,155,59,249,70,214,250,168,71,201,156,64,60,237,130,111,20,93,122,177,150],aLogTab:[1,2,4,8,16,32,64,128,45,90,180,69,138,57,114,228,229,231,227,235,251,219,155,27,54,108,216,157,23,46,92,184,93,186,89,178,73,146,9,18,36,72,144,13,26,52,104,208,141,55,110,220,149,7,14,28,56,112,224,237,247,195,171,123,246,193,175,115,230,225,239,243,203,187,91,182,65,130,41,82,164,101,202,185,95,190,81,162,105,210,137,63,126,252,213,135,35,70,140,53,106,212,133,39,78,156,21,42,84,168,125,250,217,159,19,38,76,152,29,58,116,232,253,215,131,43,86,172,117,234,249,223,147,11,22,44,88,176,77,154,25,50,100,200,189,87,174,113,226,233,255,211,139,59,118,236,245,199,163,107,214,129,47,94,188,85,170,121,242,201,191,83,166,97,194,169,127,254,209,143,51,102,204,181,71,142,49,98,196,165,103,206,177,79,158,17,34,68,136,61,122,244,197,167,99,198,161,111,222,145,15,30,60,120,240,205,183,67,134,33,66,132,37,74,148,5,10,20,40,80,160,109,218,153,31,62,124,248,221,151,3,6,12,24,48,96,192,173,119,238,241,207,179,75,150,1],champGaloisMult:function(t,e){return t&&e?this.aLogTab[(this.logTab[t]+this.logTab[e])%255]:0},champGaloisDoub:function(t,e){return t?e?this.aLogTab[(this.logTab[t]+e)%255]:t:0},champGaloisSum:function(t,e){return t^e},selectIndex:function(t,e){if((t<1||t>1558)&&!e)return-1;if((t<1||t>49)&&e)return-1;var r=0;e&&(r=24);while(this.dataCWCount[r]<t)r++;return r},encodeDataCodeWordsASCII:function(t){var e,r,i=new Array,n=0;for(e=0;e<t.length;e++)r=t.charCodeAt(e),r>127?(i[n]=235,r-=127,n++):r>=48&&r<=57&&e+1<t.length&&t.charCodeAt(e+1)>=48&&t.charCodeAt(e+1)<=57?(r=10*(r-48)+(t.charCodeAt(e+1)-48),r+=130,e++):r++,i[n]=r,n++;return i},addPadCW:function(t,e,r){var i,n;if(!(e>=r))for(t[e]=129,n=e+1;n<r;n++)i=149*(n+1)%253+1,t[n]=(129+i)%254},calculSolFactorTable:function(t){var e,r,i=new Array;for(e=0;e<=t;e++)i[e]=1;for(e=1;e<=t;e++)for(r=e-1;r>=0;r--)i[r]=this.champGaloisDoub(i[r],e),r>0&&(i[r]=this.champGaloisSum(i[r],i[r-1]));return i},addReedSolomonCW:function(t,e,r,i,n){var a,o,s,l=0,c=t/n,u=new Array;for(s=0;s<n;s++){for(a=0;a<c;a++)u[a]=0;for(a=s;a<r;a+=n)for(l=this.champGaloisSum(i[a],u[c-1]),o=c-1;o>=0;o--)u[o]=l?this.champGaloisMult(l,e[o]):0,o>0&&(u[o]=this.champGaloisSum(u[o-1],u[o]));for(o=r+s,a=c-1;a>=0;a--)i[o]=u[a],o+=n}return i},getBits:function(t){for(var e=new Array,r=0;r<8;r++)e[r]=t&128>>r?1:0;return e},next:function(t,e,r,i,n,a){var o=0,s=4,l=0;do{s==e&&0==l?(this.patternShapeSpecial1(n,a,i[o],e,r),o++):t<3&&s==e-2&&0==l&&r%4!=0?(this.patternShapeSpecial2(n,a,i[o],e,r),o++):s==e-2&&0==l&&r%8==4?(this.patternShapeSpecial3(n,a,i[o],e,r),o++):s==e+4&&2==l&&r%8==0&&(this.patternShapeSpecial4(n,a,i[o],e,r),o++);do{s<e&&l>=0&&1!=a[s][l]&&(this.patternShapeStandard(n,a,i[o],s,l,e,r),o++),s-=2,l+=2}while(s>=0&&l<r);s+=1,l+=3;do{s>=0&&l<r&&1!=a[s][l]&&(this.patternShapeStandard(n,a,i[o],s,l,e,r),o++),s+=2,l-=2}while(s<e&&l>=0);s+=3,l+=1}while(s<e||l<r)},patternShapeStandard:function(t,e,r,i,n,a,o){this.placeBitInDatamatrix(t,e,r[0],i-2,n-2,a,o),this.placeBitInDatamatrix(t,e,r[1],i-2,n-1,a,o),this.placeBitInDatamatrix(t,e,r[2],i-1,n-2,a,o),this.placeBitInDatamatrix(t,e,r[3],i-1,n-1,a,o),this.placeBitInDatamatrix(t,e,r[4],i-1,n,a,o),this.placeBitInDatamatrix(t,e,r[5],i,n-2,a,o),this.placeBitInDatamatrix(t,e,r[6],i,n-1,a,o),this.placeBitInDatamatrix(t,e,r[7],i,n,a,o)},patternShapeSpecial1:function(t,e,r,i,n){this.placeBitInDatamatrix(t,e,r[0],i-1,0,i,n),this.placeBitInDatamatrix(t,e,r[1],i-1,1,i,n),this.placeBitInDatamatrix(t,e,r[2],i-1,2,i,n),this.placeBitInDatamatrix(t,e,r[3],0,n-2,i,n),this.placeBitInDatamatrix(t,e,r[4],0,n-1,i,n),this.placeBitInDatamatrix(t,e,r[5],1,n-1,i,n),this.placeBitInDatamatrix(t,e,r[6],2,n-1,i,n),this.placeBitInDatamatrix(t,e,r[7],3,n-1,i,n)},patternShapeSpecial2:function(t,e,r,i,n){this.placeBitInDatamatrix(t,e,r[0],i-3,0,i,n),this.placeBitInDatamatrix(t,e,r[1],i-2,0,i,n),this.placeBitInDatamatrix(t,e,r[2],i-1,0,i,n),this.placeBitInDatamatrix(t,e,r[3],0,n-4,i,n),this.placeBitInDatamatrix(t,e,r[4],0,n-3,i,n),this.placeBitInDatamatrix(t,e,r[5],0,n-2,i,n),this.placeBitInDatamatrix(t,e,r[6],0,n-1,i,n),this.placeBitInDatamatrix(t,e,r[7],1,n-1,i,n)},patternShapeSpecial3:function(t,e,r,i,n){this.placeBitInDatamatrix(t,e,r[0],i-3,0,i,n),this.placeBitInDatamatrix(t,e,r[1],i-2,0,i,n),this.placeBitInDatamatrix(t,e,r[2],i-1,0,i,n),this.placeBitInDatamatrix(t,e,r[3],0,n-2,i,n),this.placeBitInDatamatrix(t,e,r[4],0,n-1,i,n),this.placeBitInDatamatrix(t,e,r[5],1,n-1,i,n),this.placeBitInDatamatrix(t,e,r[6],2,n-1,i,n),this.placeBitInDatamatrix(t,e,r[7],3,n-1,i,n)},patternShapeSpecial4:function(t,e,r,i,n){this.placeBitInDatamatrix(t,e,r[0],i-1,0,i,n),this.placeBitInDatamatrix(t,e,r[1],i-1,n-1,i,n),this.placeBitInDatamatrix(t,e,r[2],0,n-3,i,n),this.placeBitInDatamatrix(t,e,r[3],0,n-2,i,n),this.placeBitInDatamatrix(t,e,r[4],0,n-1,i,n),this.placeBitInDatamatrix(t,e,r[5],1,n-3,i,n),this.placeBitInDatamatrix(t,e,r[6],1,n-2,i,n),this.placeBitInDatamatrix(t,e,r[7],1,n-1,i,n)},placeBitInDatamatrix:function(t,e,r,i,n,a,o){i<0&&(i+=a,n+=4-(a+4)%8),n<0&&(n+=o,i+=4-(o+4)%8),1!=e[i][n]&&(t[i][n]=r,e[i][n]=1)},addFinderPattern:function(t,e,r,i,n){var a=(i+2)*e,o=(n+2)*r,s=new Array;s[0]=new Array;for(var l=0;l<o+2;l++)s[0][l]=0;for(var c=0;c<a;c++){s[c+1]=new Array,s[c+1][0]=0,s[c+1][o+1]=0;for(l=0;l<o;l++)c%(i+2)==0?s[c+1][l+1]=l%2==0?1:0:c%(i+2)==i+1?s[c+1][l+1]=1:l%(n+2)==n+1?s[c+1][l+1]=c%2==0?0:1:l%(n+2)==0?s[c+1][l+1]=1:(s[c+1][l+1]=0,s[c+1][l+1]=t[c-1-2*parseInt(c/(i+2))][l-1-2*parseInt(l/(n+2))])}s[a+1]=new Array;for(l=0;l<o+2;l++)s[a+1][l]=0;return s},getDigit:function(t,e){var r=this.encodeDataCodeWordsASCII(t),i=r.length,n=this.selectIndex(i,e),a=this.dataCWCount[n],o=this.solomonCWCount[n],s=a+o,l=this.lengthRows[n],c=this.lengthCols[n],u=this.regionRows[n],h=this.regionCols[n],d=this.dataRegionRows[n],f=this.dataRegionCols[n],p=l-2*u,m=c-2*h,g=this.interleavedBlocks[n],v=o/g;this.addPadCW(r,i,a);var w=this.calculSolFactorTable(v);this.addReedSolomonCW(o,w,a,r,g);for(var b=new Array,y=0;y<s;y++)b[y]=this.getBits(r[y]);var C=new Array,k=new Array;for(y=0;y<m;y++)C[y]=new Array,k[y]=new Array;return p*m%8==4&&(C[p-2][m-2]=1,C[p-1][m-1]=1,C[p-1][m-2]=0,C[p-2][m-1]=0,k[p-2][m-2]=1,k[p-1][m-1]=1,k[p-1][m-2]=1,k[p-2][m-1]=1),this.next(0,p,m,b,C,k),C=this.addFinderPattern(C,u,h,d,f),C}},lec:{cInt:function(t,e){for(var r="",i=0;i<e;i++)r+=String.fromCharCode(255&t),t>>=8;return r},cRgb:function(t,e,r){return String.fromCharCode(r)+String.fromCharCode(e)+String.fromCharCode(t)},cHexColor:function(t){var e=parseInt("0x"+t.substr(1)),r=255&e;e>>=8;var i=255&e,n=e>>8;return this.cRgb(n,i,r)}},bitStringTo2DArray:function(t){var e=[];e[0]=[];for(var r=0;r<t.length;r++)e[0][r]=t.charAt(r);return e},digitToSvgRenderer:function(t,e,i,n,a,o){var s=e.length,l=e[0].length,c=t.width,u=c/l,h=o,d=h*s;if(t.showHRI){var f=r.intval(t.fontSize);d+=r.intval(t.marginHRI)+f}var p='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+c+" "+d+'">';"transparent"!==t.bgColor&&(p+='<rect width="'+c+'" height="'+d+'" x="0" y="0" fill="'+t.bgColor+'"/>');var m,g,v='<rect width="&W" height="'+h+'" x="&X" y="&Y" fill="'+t.color+'"/>';"#000000"===t.color&&(v='<rect width="&W" height="'+h+'" x="&X" y="&Y"/>');for(var w=0;w<s;w++){m=0,g=e[w][0];for(var b=0;b<l;b++)g==e[w][b]?m++:("1"==g&&(p+=v.replace("&W",(m*u).toFixed(1)).replace("&X",((b-m)*u).toFixed(1)).replace("&Y",w*h)),g=e[w][b],m=1);m>0&&"1"==g&&(p+=v.replace("&W",(m*u).toFixed(1)).replace("&X",((l-m)*u).toFixed(1)).replace("&Y",(w*h).toFixed(1)))}return t.showHRI&&(p+='<text transform="translate(50 0)" y="60" text-anchor="middle">'+i+"</text>"),p+="</svg>",p},digitToSvg:function(t,e,i,n){var a=r.intval(t.barWidth),o=r.intval(t.barHeight);return this.digitToSvgRenderer(t,this.bitStringTo2DArray(e),i,n,a,o)},digitToSvg2D:function(t,e,i,n){var a=r.intval(t.moduleSize);return this.digitToSvgRenderer(t,e,i,n,a,a)}};t.exports=function(t,e,i,n){var a="",o="",s="",l=!0,c=!1,u=!1;if("string"==typeof t?s=t:"object"==typeof t&&(s="string"==typeof t.code?t.code:"",l="undefined"==typeof t.crc||t.crc,c="undefined"!=typeof t.rect&&t.rect),""==s)return!1;for(var h in"undefined"==typeof i&&(i=[]),r.settings)void 0==i[h]&&(i[h]=r.settings[h]);switch(e){case"std25":case"int25":a=r.i25.getDigit(s,l,e),o=r.i25.compute(s,l,e);break;case"ean8":case"ean13":a=r.ean.getDigit(s,e),o=r.ean.compute(s,e);break;case"upc":a=r.upc.getDigit(s),o=r.upc.compute(s);break;case"code11":a=r.code11.getDigit(s),o=s;break;case"code39":a=r.code39.getDigit(s),o=s;break;case"code93":a=r.code93.getDigit(s,l),o=s;break;case"code128":a=r.code128.getDigit(s),o=s;break;case"codabar":a=r.codabar.getDigit(s),o=s;break;case"msi":a=r.msi.getDigit(s,l),o=r.msi.compute(s,l);break;case"datamatrix":a=r.datamatrix.getDigit(s,c),o=s,u=!0;break}if(0==a.length)return!1;!u&&i.addQuietZone&&(a="0000000000"+a+"0000000000");var d="digitTo"+i.output.charAt(0).toUpperCase()+i.output.substr(1)+(u?"2D":"");return"function"==typeof r[d]?r[d](i,a,o,n):void 0}},"1c3e":function(t,e,r){var i=r("0b77"),n=r("ec2e"),a=r("1dbb");t.exports={barcode:i,qrcode:n,svg2url:a}},"1dbb":function(t,e){t.exports=function(t){return"data:image/svg+xml;utf8,"+encodeURIComponent(t)}},2614:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header",{attrs:{"drive-id":t.driveId}}),t.$store.getters.showAnnouncement?r("div",{staticClass:"zfile-header-announcement",domProps:{innerHTML:t._s(t.$store.getters.announcement)}}):t._e(),r("el-row",[r("el-col",{attrs:{offset:t.isFullScreen?0:3,xs:24,sm:24,lg:t.isFullScreen?24:18}},[r("List",{ref:"List",attrs:{"drive-id":t.driveId}})],1)],1)],1)},n=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{staticClass:"zfile-header",attrs:{inline:!0,size:"mini"}},[r("el-form-item",[r("el-breadcrumb",{attrs:{separator:"/","separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"+t.driveId+"/main"}}},[t._v("\n        "+t._s(this.$store.state.common.config.siteName?this.$store.state.common.config.siteName:"首页")+"\n      ")]),t._l(t.breadcrumbData,(function(e){return r("el-breadcrumb-item",{key:e.path,staticClass:"hidden-xs-only",attrs:{to:{path:"/"+t.driveId+"/main"+e.fullPath}}},[t._v(t._s(e.name)+"\n      ")])}))],2)],1),r("div",{staticClass:"zfile-header-drive box animate__animated animate__fadeIn"},[r("el-form-item",[r("el-button",{attrs:{size:"small",type:"success"},on:{click:t.showNewDirDialog}},[t._v("新建文件夹")])],1),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.chooseFile}},[t._v("上传文件")])],1),r("el-form-item",{staticClass:"zfile-debug-tips",attrs:{size:"small"}},[r("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.addUpdatePsdDialogVisible=!0}}},[t._v("修改密码")])],1),r("el-form-item",{staticClass:"zfile-debug-tips",attrs:{size:"small"}},[r("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.$router.push("/login")}}},[t._v("注销")])],1),r("input",{staticStyle:{display:"none"},attrs:{"aria-describedby":"basic-addon2",type:"file",size:"27",id:"file",accept:"",name:"myfile"},on:{change:t.fetchFileName}})],1),r("el-dialog",{attrs:{title:"新建文件夹",visible:t.addDialogVisible,width:"50%"},on:{"update:visible":function(e){t.addDialogVisible=e}}},[r("el-form",{attrs:{"label-width":"70px"}},[r("el-form-item",{attrs:{label:"文件夹名",prop:"dirName"}},[r("el-input",{model:{value:t.dirName,callback:function(e){t.dirName=e},expression:"dirName"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.newDir}},[t._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"修改密码",visible:t.addUpdatePsdDialogVisible,width:"50%"},on:{"update:visible":function(e){t.addUpdatePsdDialogVisible=e}}},[r("el-card",{attrs:{shadow:"false"}},[r("el-form",{ref:"form",attrs:{id:"pwdForm",rules:t.rules,model:t.form,"label-width":"auto","status-icon":!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("form")}}},[r("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",staticStyle:{"padding-left":"80px"},attrs:{label:"旧密码",prop:"oldPassword"}},[r("el-input",{model:{value:t.form.oldPassword,callback:function(e){t.$set(t.form,"oldPassword","string"===typeof e?e.trim():e)},expression:"form.oldPassword"}})],1),r("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",staticStyle:{"padding-left":"80px"},attrs:{label:"设置新密码",prop:"password"}},[r("el-input",{model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}})],1),r("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",staticStyle:{"padding-left":"80px"},attrs:{label:"确认新密码",prop:"repassword"}},[r("el-input",{model:{value:t.form.repassword,callback:function(e){t.$set(t.form,"repassword","string"===typeof e?e.trim():e)},expression:"form.repassword"}})],1),r("br"),r("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",staticStyle:{"margin-left":"30%",width:"100%"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("确认")])],1)],1)],1)],1),r("el-dialog",{attrs:{title:"上传",visible:t.addUploadFileDialogVisible,width:"50%"},on:{"update:visible":function(e){t.addUploadFileDialogVisible=e}}},[r("el-row",{staticStyle:{"margin-left":"25%"}},[r("el-col",[t._v("\n        文件名: "+t._s(t.fileName)+"\n      ")])],1),r("el-row",{staticStyle:{"margin-left":"25%"}},[r("el-col",[t._v("\n        文件类型: "+t._s(t.fileType)+"\n      ")])],1),r("el-row",{staticStyle:{"margin-left":"25%"}},[r("el-col",[t._v("\n        文件大小: "+t._s(t.fileSize)+"\n      ")])],1),r("el-row",{staticStyle:{"margin-left":"25%"}},[r("el-col",[t._v("\n        上传进度: "+t._s(t.progressNumber)+"\n      ")])],1)],1)],1)},o=[],s=(r("e680"),r("6a61"),r("60b5")),l=(r("4057"),r("fc02"),r("3269"),r("a450"),r("6266")),c=r.n(l),u=r("d3bd"),h=r("fed1"),d=r.n(h),f={name:"Header",props:["driveId"],inject:["reload"],data:function(){var t=this;return{imgModel:!1,driveList:[],currentDriveId:"",search:"",breadcrumbData:[],searching:!1,addDialogVisible:!1,dirName:"",addUploadFileDialogVisible:!1,addUpdatePsdDialogVisible:!1,fileSize:0,fileType:"",fileName:"",progressNumber:"0%",form:{oldPassword:"",password:"",repassword:"",driverId:this.driveId},rules:{oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],password:[{required:!0,message:"请输入新密码",trigger:"blur"}],repassword:[{required:!0,validator:function(e,r,i){""===r?i(new Error("请再次输入新密码")):r!==t.form.password?i(new Error("两次输入密码不一致!")):i()},trigger:"change"}]}}},created:function(){this.buildBreadcrumbData()},methods:{submitForm:function(t){var e=this;this.addUpdatePsdDialogVisible=!1,this.$refs[t].validate((function(t){if(!t)return!1;e.$http.post("update-pwd",d.a.stringify(e.form)).then((function(t){t.data.code===e.common.responseCode.SUCCESS?e.$message({message:"修改成功",type:"success"}):e.$message.error(t.data.msg)})),e.form.oldPassword="",e.form.password="",e.form.repassword=""}))},buildBreadcrumbData:function(){this.breadcrumbData=[];var t=this.$route.params.pathMatch;t=t||"/";while("/"!==t){var e=c.a.basename(t);this.breadcrumbData.unshift({name:e,fullPath:t}),t=c.a.resolve(t,"../")}},showNewDirDialog:function(){this.addDialogVisible=!0},newDir:function(){var t=this;if(this.addDialogVisible=!1,this.check_name(this.dirName))alert("名称包含非法字符！");else{for(var e=this.$store.getters.tableData,r=0;r<e.length;r++)if(e[r].name==this.dirName)return void alert("该文件夹已存在！");console.log("dirName",this.dirName);var i=this.$route.params.pathMatch,n=i+"/",a=n+this.dirName;console.log("dirPath",a);var o=this.driveId;console.log("driverId",o);var s={dirPath:a,driverId:o},l="api/mkdir";this.$http.get(l,{params:s}).then((function(e){console.log("response",e);var r=e.data.msg;t.$message.success(r),t.refreshPage()}))}},check_name:function(t){console.log("str",t);var e=new RegExp("[`~!@#$^&()=|{}':;',\\[\\].<>《》/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？ ]");return!!e.test(t)},fetchFileName:function(){var t=this.$("#file").val(),e=t.split("\\").pop();
/*!//获取文件名
      fileName = fileName.substring(0, fileName.lastIndexOf("."));
      //获取文件的扩展名
      fileExt = file.substr(file.lastIndexOf("."));*/
console.log("filename:"+e),this.fileName=e,this.upload()},chooseFile:function(){this.$("#file").click()},upload:function(){var t=document.getElementById("file").files[0];if(t){var e=0;e=t.size>1048576?(Math.round(100*t.size/1048576)/100).toString()+"MB":(Math.round(100*t.size/1024)/100).toString()+"KB",this.fileSize=e,this.fileType=t.type}this.addUploadFileDialogVisible=!0;var r=this.$http.defaults.baseURL,i=r+"api/uploadFile",n=new FormData;n.append("file",t);var a=this.$route.params.pathMatch;n.append("path",a),n.append("fileName",this.fileName);var o=this.driveId;n.append("driverId",o);var s=new XMLHttpRequest;s.upload.addEventListener("progress",this.uploadProgress,!1),s.addEventListener("load",this.uploadComplete,!1),s.addEventListener("error",this.uploadFailed,!1),s.addEventListener("abort",this.uploadCanceled,!1),s.open("post",i,!0),s.send(n)},refreshPage:function(){this.$store.commit("tableData",[]),u["default"].$emit("refreshList","refresh")},uploadProgress:function(t){if(t.lengthComputable){var e=Math.round(100*t.loaded/t.total);this.progressNumber=e.toString()+"%"}else this.progressNumber="无法计算"},uploadComplete:function(t){console.log(t.target.responseText),this.$message.success("上传成功！"),this.refreshPage()},uploadFailed:function(){alert("上传文件发生了错误尝试")},uploadCanceled:function(){alert("上传被用户取消或者浏览器断开连接")}},watch:{currentDriveId:function(t,e){this.$store.commit("updateOldDriveId",e),this.$router.push("/"+t+"/main")},"$store.getters.newImgMode":function(t){this.imgModel=t},imgModel:function(){this.$store.commit("switchImgMode",this.imgModel)},"$route.fullPath":function(){this.buildBreadcrumbData()},search:function(t){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.$store.commit("updateSearchParam",t)}),150)}},mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("api/drive/list").then((function(t){e.driveList=t.data.data,e.driveId?e.currentDriveId=Number(e.driveId):e.driveList.length>0?(e.currentDriveId=e.driveList[0].id,e.$router.push("/"+e.driveList[0].id+"/main")):0===e.driveList.length&&e.$message.warning("无可用驱动器，请先去管理员页初始化驱动器。"),e.driveList.some((function(t){t.id===e.currentDriveId&&e.$store.commit("updateCurrentStorageStrategy",t)}))}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},p=f,m=(r("cdfc"),r("5d22")),g=Object(m["a"])(p,a,o,!1,null,"72dc5076",null),v=g.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.initLoading,expression:"initLoading"}],attrs:{id:"List"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"fileTable",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255,255,255,.5)",id:"ListTable",data:this.$store.getters.tableData,height:this.$store.getters.showDocument&&null!==this.$store.state.common.config.readme?"50vh":"84vh",size:this.$store.getters.tableSize},on:{"sort-change":t.sortMethod,"row-click":t.openFolder,"row-contextmenu":t.showMenu}},[r("el-table-column",{attrs:{prop:"name",icon:"el-icon-notebook-1",sortable:"custom","class-name":"zfile-table-col-name","label-class-name":"table-header-left","min-width":"100%"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$store.getters.imgMode&&"el-icon-my-image"===e.row.icon?[r("img",{staticClass:"img-mode-img",attrs:{src:e.row.url}})]:[r("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#"+e.row.icon}})]),t._v("\n            "+t._s(e.row.name)+"\n          ")]]}}])},[r("template",{slot:"header"},[r("i",{staticClass:"el-icon-document hidden-xs-only"}),r("span",[t._v("文件名")])])],2),t.$store.getters.imgMode||t.common.isMobile()?t._e():r("el-table-column",{attrs:{prop:"time",label:"修改时间",sortable:"custom","class-name":"zfile-table-col-time hidden-xs-only","min-width":"20%"}},[r("template",{slot:"header"},[r("i",{staticClass:"el-icon-date"}),r("span",[t._v("修改时间")])])],2),t.$store.getters.imgMode||t.common.isMobile()?t._e():r("el-table-column",{attrs:{prop:"size",label:"大小","class-name":"zfile-table-col-size hidden-xs-only",sortable:"custom",formatter:this.common.fileSizeFilter,"min-width":"15%"}},[r("template",{slot:"header"},[r("i",{staticClass:"el-icon-coin"}),r("span",[t._v("大小")])])],2),t.$store.getters.showOperator&&!t.$store.getters.imgMode?r("el-table-column",{attrs:{label:"操作","class-name":"zfile-table-col-operator","min-width":t.common.isMobile()?"35%":"15%"},scopedSlots:t._u([{key:"default",fn:function(e){return["FILE"===e.row.type?r("div",[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载",placement:"top"}},[r("i",{staticClass:"el-icon-download operator-btn",on:{click:function(r){return r.stopPropagation(),t.download(e.row)}}})]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"生成直链",placement:"top"}},[r("i",{staticClass:"el-icon-copy-document operator-btn",on:{click:function(r){return r.stopPropagation(),t.copyShortLink(e.row)}}})])],1):t._e()]}}],null,!1,1271684922)},[r("template",{slot:"header"},[r("i",{staticClass:"el-icon-s-operation hidden-xs-only"}),r("span",[t._v("操作")]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"批量生成直链",placement:"top"}},[r("i",{staticClass:"el-icon-copy-document operator-btn hidden-xs-only zfile-margin-left-5",on:{click:function(e){return e.stopPropagation(),t.openBatchCopyLinkDialog(e)}}})])],1)],2):t._e()],1),t.dialogTextVisible?r("el-dialog",{attrs:{id:"textDialog","destroy-on-close":!0,title:t.currentClickRow.name,visible:t.dialogTextVisible,top:"5vh",width:"90%"},on:{"update:visible":function(e){t.dialogTextVisible=e}}},[r("TextPreview",{ref:"textDialog",attrs:{file:t.currentClickRow}})],1):t._e(),t.dialogVideoVisible?r("el-dialog",{attrs:{id:"videoDialog","destroy-on-close":!0,title:t.currentClickRow.name,visible:t.dialogVideoVisible},on:{"update:visible":function(e){t.dialogVideoVisible=e}}},[t.dialogVideoVisible?r("video-player",{ref:"videoPlayer",attrs:{data:t.currentClickRow}}):t._e()],1):t._e(),t.dialogCopyLinkVisible?r("el-dialog",{attrs:{id:"copyLinkDialog",title:"生成直链结果",width:this.common.isMobile()?"95%":"50%",visible:t.dialogCopyLinkVisible},on:{"update:visible":function(e){t.dialogCopyLinkVisible=e}}},[t.currentCopyLinkRow.row?r("el-row",[r("el-col",{staticClass:"zfile-dialog-link-result-qrcode",attrs:{span:12,xs:24}},[r("el-form",[r("el-form-item",[r("img",{attrs:{src:t.currentCopyLinkRow.img,alt:"右键可另存为图片"}})]),r("el-form-item",{staticClass:"hidden-sm-and-down"},[r("div",{staticClass:"zfile-word-aux zfile-margin-left-unset"},[t._v("二维码可右键另存为图片")])]),r("el-form-item",{staticClass:"hidden-sm-and-up"},[r("div",{staticClass:"zfile-word-aux zfile-margin-left-unset"},[t._v("二维码可长按另存为图片")])])],1)],1),r("el-col",{staticClass:"zfile-dialog-link-result-info",attrs:{span:12,xs:24}},[r("el-form",[r("el-form-item",[r("el-input",{attrs:{disabled:"","prefix-icon":"el-icon-document"},model:{value:t.currentCopyLinkRow.row.name,callback:function(e){t.$set(t.currentCopyLinkRow.row,"name",e)},expression:"currentCopyLinkRow.row.name"}})],1),r("el-form-item",[r("el-input",{attrs:{disabled:"","prefix-icon":"el-icon-date"},model:{value:t.currentCopyLinkRow.row.time,callback:function(e){t.$set(t.currentCopyLinkRow.row,"time",e)},expression:"currentCopyLinkRow.row.time"}})],1),r("el-form-item",[r("el-input",{attrs:{disabled:"","prefix-icon":"el-icon-coin",value:t._f("fileSizeFormat")(t.currentCopyLinkRow.row.size)}})],1),r("el-form-item",[r("el-input",{attrs:{"prefix-icon":"el-icon-link",type:"small"},model:{value:t.currentCopyLinkRow.directlink,callback:function(e){t.$set(t.currentCopyLinkRow,"directlink",e)},expression:"currentCopyLinkRow.directlink"}},[r("el-tooltip",{staticClass:"item",attrs:{slot:"append",effect:"dark",content:"复制",placement:"bottom"},slot:"append"},[r("el-button",{attrs:{type:"small",icon:"el-icon-copy-document"},on:{click:function(e){return t.copyText(t.currentCopyLinkRow.directlink)}}})],1)],1)],1),r("el-form-item",[r("el-input",{attrs:{"prefix-icon":"el-icon-link",type:"small"},model:{value:t.currentCopyLinkRow.link,callback:function(e){t.$set(t.currentCopyLinkRow,"link",e)},expression:"currentCopyLinkRow.link"}},[r("el-tooltip",{staticClass:"item",attrs:{slot:"append",effect:"dark",content:"复制",placement:"bottom"},slot:"append"},[r("el-button",{attrs:{type:"small",icon:"el-icon-copy-document"},on:{click:function(e){return t.copyText(t.currentCopyLinkRow.link)}}})],1)],1)],1),r("el-form-item",[r("div",{staticClass:"zfile-word-aux zfile-margin-left-unset"},[t._v("直链域名取决与站点设置中的地址")]),r("div",{staticClass:"zfile-word-aux zfile-margin-left-unset"},[t._v("第一个链接为直链(带文件名)，第二个链接为短链接")])])],1)],1)],1):t._e()],1):t._e(),t.dialogBatchCopyLinkVisible?r("el-dialog",{attrs:{id:"batchCopyLinkDialog",title:"批量生成直链",width:"80%",top:"80px",visible:t.dialogBatchCopyLinkVisible},on:{"update:visible":function(e){t.dialogBatchCopyLinkVisible=e}}},[r("el-table",{attrs:{data:t.batchCopyLinkList,"max-height":"400"}},[r("el-table-column",{attrs:{label:"文件名称",prop:"name"}},[r("template",{slot:"header"},[r("span",[t._v("文件名称")]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"批量复制",placement:"top"}},[r("i",{staticClass:"el-icon-copy-document operator-btn zfile-margin-left-5",on:{click:function(e){return e.stopPropagation(),t.batchCopyLinkField("name")}}})])],1)],2),r("el-table-column",{attrs:{label:"短链",width:"250px",prop:"link1"}},[r("template",{slot:"header"},[r("span",[t._v("短链")]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"批量复制",placement:"top"}},[r("i",{staticClass:"el-icon-copy-document operator-btn zfile-margin-left-5",on:{click:function(e){return e.stopPropagation(),t.batchCopyLinkField("link1")}}})])],1)],2),r("el-table-column",{attrs:{label:"直链",width:"350px","show-overflow-tooltip":"",prop:"link2"}},[r("template",{slot:"header"},[r("span",[t._v("直链")]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"批量复制",placement:"top"}},[r("i",{staticClass:"el-icon-copy-document operator-btn zfile-margin-left-5",on:{click:function(e){return e.stopPropagation(),t.batchCopyLinkField("link2")}}})])],1)],2)],1)],1):t._e(),r("audio-player",{attrs:{"file-list":this.$store.getters.filterFileByType("audio"),"audio-index":t.currentClickTypeIndex("audio")}}),r("v-contextmenu",{ref:"contextmenu"},[r("v-contextmenu-item",{on:{click:function(e){return t.openFolder(t.rightClickRow)}}},[r("label",{domProps:{innerHTML:t._s("FILE"===t.rightClickRow.type?"预览":"打开")}})]),r("v-contextmenu-item",{directives:[{name:"show",rawName:"v-show",value:"FILE"===t.rightClickRow.type,expression:"rightClickRow.type === 'FILE'"}],on:{click:function(e){return t.download(t.rightClickRow)}}},[r("label",[t._v("下载")])]),r("v-contextmenu-item",{on:{click:function(e){return t.showRenameDialog(t.rightClickRow)}}},[r("label",[t._v("重命名")])]),r("v-contextmenu-item",{on:{click:function(e){return t.deleteF(t.rightClickRow)}}},[r("label",[t._v("删除")])])],1),[r("el-backtop",{attrs:{target:".el-table__body-wrapper",bottom:t.haveDocument()?280:80,right:30}},[r("el-tooltip",{attrs:{placement:"top",content:"回到顶部"}},[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"back-to-ceiling"},[r("svg",{staticClass:"Icon Icon--backToTopArrow",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#el-icon-my-to-top"}})])])])],1)],1)],r("el-dialog",{attrs:{title:"重命名",visible:t.addRenameDialogVisible,width:"50%"},on:{"update:visible":function(e){t.addRenameDialogVisible=e}}},[r("el-form",{attrs:{"label-width":"70px"}},[r("el-form-item",{attrs:{label:"新名称"}},[r("el-input",{model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.addRenameDialogVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.rename}},[t._v("确 定")])],1)],1)],2)},b=[];r("9f60"),r("94f0"),r("0c84"),r("2843"),r("a7e5"),r("1bc7"),r("90a2");function y(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=C(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function C(t,e){if(t){if("string"===typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var x=function(){return r.e("front-video").then(r.bind(null,"5912"))},D=function(){return r.e("front-text").then(r.bind(null,"3f22"))},L=function(){return r.e("front-audio").then(r.bind(null,"7901"))},I="/main",_=r("1c3e"),E=_.qrcode,A=_.svg2url,T={components:{VideoPlayer:x,TextPreview:D,AudioPlayer:L},props:["driveId"],data:function(){return{path:"",oldName:"",addRenameDialogVisible:!1,newName:"",oldURL:"",initLoading:!0,loading:!1,rightClickRow:{},dialogTextVisible:!1,dialogVideoVisible:!1,dialogCopyLinkVisible:!1,searchParam:{path:"",password:"",orderBy:"",orderDirection:""},currentClickRow:{},contextMenuDataAxis:{x:null,y:null},driveList:[],currentCopyLinkRow:{row:null,img:"",link:""},dialogBatchCopyLinkVisible:!1,batchCopyLinkList:[]}},watch:{"$route.fullPath":function(){this.loadFile()}},mounted:function(){this.$store.commit("tableData",[]),this.loadFile();var t=this;u["default"].$on("refreshList",(function(e){console.log(e),t.loadFile()}))},methods:{batchCopyLinkField:function(t){var e=this,r="";this.batchCopyLinkList.forEach((function(e,i){r+=e[t]+"\n"})),this.$copyText(r).then((function(){e.$message.success("复制成功")}),(function(){e.$message.error("复制失败")}))},openBatchCopyLinkDialog:function(){var t=this;this.batchCopyLinkList=[],this.$store.getters.tableData.forEach((function(e){if("FILE"===e.type){var r=t.common.removeDuplicateSeparator("/"+encodeURI(e.path)+"/"+encodeURI(e.name));t.$http.get("api/short-link",{params:{driveId:t.driveId,path:r}}).then((function(r){var i=r.data.data,n=t.common.removeDuplicateSeparator(t.$store.getters.domain+"/directlink/"+t.driveId+"/"+encodeURI(e.path)+"/"+encodeURI(e.name)),a=E(r.data.data),o=A(a);t.batchCopyLinkList.push({name:e.name,link1:i,link2:n,img:o})}))}})),this.dialogBatchCopyLinkVisible=!0},sortMethod:function(t){var e=t.prop,r=t.order;this.searchParam.orderBy=e,this.searchParam.orderDirection="descending"===r?"desc":"asc",this.loadFile()},getPwd:function(){var t=this.$route.params.pathMatch;return this.searchParam.path=t||"/",this.searchParam.path},updateTitle:function(){var t=c.a.basename(this.searchParam.path),e=this.$store.state.common.config,r="";e&&(r=" | "+this.$store.state.common.config.siteName),document.title="/"===t||""===t?"首页"+r:t+r},loadFile:function(){var t=this;if(this.driveId){this.loading=!0;var e="api/list/"+this.driveId,r={path:this.getPwd(),password:this.getPathPwd(),orderBy:this.searchParam.orderBy,orderDirection:this.searchParam.orderDirection};this.$http.get(e,{params:r}).then((function(e){if(console.log("resp:",e),e.data.code===t.common.responseCode.INVALID_PASSWORD)return t.$message.error("密码错误，请重新输入！"),void t.popPassword();if(e.data.code===t.common.responseCode.REQUIRED_PASSWORD)return t.$message.warning("此文件夹需要密码，请输入密码！"),void t.popPassword();t.$store.commit("updateConfig",e.data.data.config),t.driveId!==t.$store.getters.oldDriveId&&(t.$store.commit("updateOldDriveId",t.driveId),t.$store.commit("updateNewImgMode",e.data.data.config.defaultSwitchToImgMode));var r=e.data.data.files,i=t.searchParam.path;if(""!==i&&"/"!==i){var n=t.$route.params.pathMatch;n=n||"/";var a=c.a.basename(c.a.resolve(n,"../"));r.unshift({name:a||"/",path:c.a.resolve(i,"../"),type:"BACK"})}t.$store.commit("tableData",r),t.loading=!1,t.initLoading=!1}))}},openFolder:function(t){if(this.currentClickRow=t,"FILE"===t.type){if("ftp"===this.$store.getters.currentStorageStrategyType)return this.$message({message:"FTP 模式，不支持预览功能，已自动调用下载",type:"warning"}),void this.download(t);var e=this.common.getFileType(t.name);switch(e){case"video":this.openVideo();break;case"image":this.openImage();break;case"text":this.openText();break;case"audio":this.openAudio();break;default:this.download(t)}}else{var r;r="BACK"===t.type?t.path:this.common.removeDuplicateSeparator(t.path+"/"+t.name),0!==r.indexOf("/")&&(r="/"+r),this.$router.push("/"+this.driveId+I+r)}},openImage:function(){var t,e=[],r=y(this.$store.getters.filterFileByType("image"));try{for(r.s();!(t=r.n()).done;){var i=t.value;e.push({alt:i.name,src:i.url})}}catch(n){r.e(n)}finally{r.f()}this.layer.photos({photos:{data:e,start:this.currentClickTypeIndex("image")},anim:5,shade:.5})},openAudio:function(){},openText:function(){this.dialogTextVisible=!0},openVideo:function(){this.dialogVideoVisible=!0},showMenu:function(t,e,r){this.rightClickRow=t,r.preventDefault(),this.$refs.contextmenu.show({top:r.clientY,left:r.clientX}),this.$refs.contextmenu.$el.hidden=!1},download:function(t){window.location.href=t.url},copyShortLink:function(t){var e=this,r=this.common.removeDuplicateSeparator("/"+encodeURI(t.path)+"/"+encodeURI(t.name));this.$http.get("api/short-link",{params:{driveId:this.driveId,path:r}}).then((function(r){e.currentCopyLinkRow.row=t,e.currentCopyLinkRow.link=r.data.data;var i=e.common.removeDuplicateSeparator(e.$store.getters.domain+"/directlink/"+e.driveId+"/"+encodeURI(t.path)+"/"+encodeURI(t.name));e.currentCopyLinkRow.directlink=i;var n=E(r.data.data);e.currentCopyLinkRow.img=A(n),e.dialogCopyLinkVisible=!0}))},showRenameDialog:function(t){this.newName=t.name,this.oldName=t.name;var e=this.$route.params.pathMatch;this.path=e+"/",this.addRenameDialogVisible=!0},rename:function(){var t=this;if(this.addRenameDialogVisible=!1,this.newName!=this.oldName)if(this.check_name(this.newName))alert("名称包含非法字符！");else{for(var e=this.$store.getters.tableData,r=0;r<e.length;r++)if(e[r].name==this.newName)return void alert("该名称已存在");var i={driverId:this.driveId,path:this.path,oldName:this.oldName,newName:this.newName};console.log("params:",i),this.$http.get("api/updateFilename",{params:i}).then((function(e){var r=e.data.msg;t.$message.info(r),t.refreshPage()}))}},refreshPage:function(){this.loadFile()},check_name:function(t){console.log("str",t);var e=new RegExp("[`~!@#$^&()=|{}':;',\\[\\]<>《》/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？ ]");return!!e.test(t)},deleteF:function(t){var e=this,r=this.$route.params.pathMatch,i=r+"/",n={path:i,name:t.name,driverId:this.driveId};this.$http.get("api/deleteFile",{params:n}).then((function(t){var r=t.data.msg;e.$message.info(r),e.refreshPage()}))},copyText:function(t){var e=this;this.$copyText(t).then((function(){e.$message.success("复制成功")}),(function(){e.$message.error("复制失败")}))},popPassword:function(){var t=this;this.$prompt("请输入密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password",inputValidator:function(t){return!!t},inputErrorMessage:"密码不能为空."}).then((function(e){var r=e.value,i=t.getPathPwd();r!==i&&t.putPathPwd(r),t.loadFile()})).catch((function(){t.$router.push("/"+t.driveId+I+c.a.resolve(t.searchParam.path,"../"))}))},getPathPwd:function(){var t=sessionStorage.getItem("zfile-pwd-"+this.searchParam.path);return null===t?"":t},putPathPwd:function(t){sessionStorage.setItem("zfile-pwd-"+this.searchParam.path,t)},haveDocument:function(){return this.$store.getters.showDocument&&null!==this.$store.state.common.config.readme}},computed:{currentClickTypeIndex:function(){var t=this;return function(e){var r=t.currentClickRow;return"FILE"!==r.type?-1:"{}"===JSON.stringify(r)?0:(e=e||t.common.getFileType(r.name),t.$store.getters.filterFileByType(e).findIndex((function(t){return t.name===r.name})))}}}},N=T,P=(r("3397"),Object(m["a"])(N,w,b,!1,null,"11a32b00",null)),B=P.exports,S=r("f786"),R={name:"Main",props:["driveId"],components:{List:B,Header:v,MarkdownRender:S["a"]},watch:{"$store.state.common.config.customJs":function(t){var e=document.createElement("script");e.type="text/javascript",e.text=t,document.getElementsByTagName("head")[0].appendChild(e)},"$store.state.common.config.customCss":function(t){var e=document.createElement("style");e.type="text/css",e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)}},mounted:function(){document.title="zFile"},computed:{isFullScreen:function(){return this.common.isMobile()||"center"!==this.$store.getters.layout}}},M=R,$=(r("c266"),Object(m["a"])(M,i,n,!1,null,null,null));e["default"]=$.exports},3397:function(t,e,r){"use strict";r("b67b")},"5dc3":function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"60b5":function(t,e,r){"use strict";function i(t,e,r,i,n,a,o){try{var s=t[a](o),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(i,n)}function n(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){i(o,n,a,s,l,"next",t)}function l(t){i(o,n,a,s,l,"throw",t)}s(void 0)}))}}r.d(e,"a",(function(){return n}))},"6a61":function(t,e,r){var i=function(t){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(P){l=function(t,e,r){return t[e]=r}}function c(t,e,r,i){var n=e&&e.prototype instanceof g?e:g,a=Object.create(n.prototype),o=new A(i||[]);return a._invoke=L(t,r,o),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(P){return{type:"throw",arg:P}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function v(){}function w(){}var b={};b[a]=function(){return this};var y=Object.getPrototypeOf,C=y&&y(y(T([])));C&&C!==r&&i.call(C,a)&&(b=C);var k=w.prototype=g.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function D(t,e){function r(n,a,o,s){var l=u(t[n],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var n;function a(t,i){function a(){return new e((function(e,n){r(t,i,e,n)}))}return n=n?n.then(a,a):a()}this._invoke=a}function L(t,e,r){var i=h;return function(n,a){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===n)throw a;return N()}r.method=n,r.arg=a;while(1){var o=r.delegate;if(o){var s=I(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(t,e,r);if("normal"===l.type){if(i=r.done?p:d,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=p,r.method="throw",r.arg=l.arg)}}}function I(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(t.iterator["return"]&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=u(i,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,m;var a=n.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var r=t[a];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){while(++n<t.length)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:N}}function N(){return{value:e,done:!0}}return v.prototype=k.constructor=w,w.constructor=v,v.displayName=l(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(D.prototype),D.prototype[o]=function(){return this},t.AsyncIterator=D,t.async=function(e,r,i,n,a){void 0===a&&(a=Promise);var o=new D(c(e,r,i,n),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(k),l(k,s,"Generator"),k[a]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;E(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:T(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=i}catch(n){Function("r","regeneratorRuntime = r")(i)}},"78be":function(t,e,r){},b67b:function(t,e,r){},c266:function(t,e,r){"use strict";r("f1c2")},cdfc:function(t,e,r){"use strict";r("78be")},e680:function(t,e,r){"use strict";var i=r("0b34"),n=r("4fd4"),a=r("cea2"),o=r("a83a"),s=r("5d10"),l=r("0926"),c=r("21d9").f,u=r("285b").f,h=r("bb8b").f,d=r("eb34").trim,f="Number",p=i[f],m=p,g=p.prototype,v=a(r("7ee3")(g))==f,w="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=w?e.trim():d(e,3);var r,i,n,a=e.charCodeAt(0);if(43===a||45===a){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var o,l=e.slice(2),c=0,u=l.length;c<u;c++)if(o=l.charCodeAt(c),o<48||o>n)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(v?l((function(){g.valueOf.call(r)})):a(r)!=f)?o(new m(b(e)),r,p):b(e)};for(var y,C=r("26df")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;C.length>k;k++)n(m,y=C[k])&&!n(p,y)&&h(p,y,u(m,y));p.prototype=g,g.constructor=p,r("84e8")(i,f,p)}},eb34:function(t,e,r){var i=r("e99b"),n=r("3ab0"),a=r("0926"),o=r("5dc3"),s="["+o+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),h=function(t,e,r){var n={},s=a((function(){return!!o[t]()||l[t]()!=l})),c=n[t]=s?e(d):o[t];r&&(n[r]=c),i(i.P+i.F*s,"String",n)},d=h.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=h},ec2e:function(t,e){function r(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var i=[],a=this.data.charCodeAt(e);a>65536?(i[0]=240|(1835008&a)>>>18,i[1]=128|(258048&a)>>>12,i[2]=128|(4032&a)>>>6,i[3]=128|63&a):a>2048?(i[0]=224|(61440&a)>>>12,i[1]=128|(4032&a)>>>6,i[2]=128|63&a):a>128?(i[0]=192|(1984&a)>>>6,i[1]=128|63&a):i[0]=a,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function i(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}r.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},i.prototype={addData:function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+r][e+i]=0<=r&&r<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var i=s.getLostPoint(this);(0==r||t>i)&&(t=i,e=r)}return e},createMovieClip:function(t,e,r){var i=t.createEmptyMovieClip(e,r),n=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*n,s=0;s<this.modules[a].length;s++){var l=s*n,c=this.modules[a][s];c&&(i.beginFill(0,100),i.moveTo(l,o),i.lineTo(l+n,o),i.lineTo(l+n,o+n),i.lineTo(l,o+n),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var i=t[e],n=t[r];if(null==this.modules[i][n])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[i+a][n+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},setupTypeNumber:function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var i=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=i}for(r=0;r<18;r++){i=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=i}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,i=s.getBCHTypeInfo(r),n=0;n<15;n++){var a=!t&&1==(i>>n&1);n<6?this.modules[n][8]=a:n<8?this.modules[n+1][8]=a:this.modules[this.moduleCount-15+n][8]=a}for(n=0;n<15;n++){a=!t&&1==(i>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=a:n<9?this.modules[8][15-n-1+1]=a:this.modules[8][15-n-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,i=this.moduleCount-1,n=7,a=0,o=this.moduleCount-1;o>0;o-=2){6==o&&o--;while(1){for(var l=0;l<2;l++)if(null==this.modules[i][o-l]){var c=!1;a<t.length&&(c=1==(t[a]>>>n&1));var u=s.getMask(e,i,o-l);u&&(c=!c),this.modules[i][o-l]=c,n--,-1==n&&(a++,n=7)}if(i+=r,i<0||this.moduleCount<=i){i-=r,r=-r;break}}}}},i.PAD0=236,i.PAD1=17,i.createData=function(t,e,r){for(var n=h.getRSBlocks(t,e),a=new d,o=0;o<r.length;o++){var l=r[o];a.put(l.mode,4),a.put(l.getLength(),s.getLengthInBits(l.mode,t)),l.write(a)}var c=0;for(o=0;o<n.length;o++)c+=n[o].dataCount;if(a.getLengthInBits()>8*c)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*c+")");a.getLengthInBits()+4<=8*c&&a.put(0,4);while(a.getLengthInBits()%8!=0)a.putBit(!1);while(1){if(a.getLengthInBits()>=8*c)break;if(a.put(i.PAD0,8),a.getLengthInBits()>=8*c)break;a.put(i.PAD1,8)}return i.createBytes(a,n)},i.createBytes=function(t,e){for(var r=0,i=0,n=0,a=new Array(e.length),o=new Array(e.length),l=0;l<e.length;l++){var c=e[l].dataCount,h=e[l].totalCount-c;i=Math.max(i,c),n=Math.max(n,h),a[l]=new Array(c);for(var d=0;d<a[l].length;d++)a[l][d]=255&t.buffer[d+r];r+=c;var f=s.getErrorCorrectPolynomial(h),p=new u(a[l],f.getLength()-1),m=p.mod(f);o[l]=new Array(f.getLength()-1);for(d=0;d<o[l].length;d++){var g=d+m.getLength()-o[l].length;o[l][d]=g>=0?m.get(g):0}}var v=0;for(d=0;d<e.length;d++)v+=e[d].totalCount;var w=new Array(v),b=0;for(d=0;d<i;d++)for(l=0;l<e.length;l++)d<a[l].length&&(w[b++]=a[l][d]);for(d=0;d<n;d++)for(l=0;l<e.length;l++)d<o[l].length&&(w[b++]=o[l][d]);return w};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case o.PATTERN000:return(e+r)%2==0;case o.PATTERN001:return e%2==0;case o.PATTERN010:return r%3==0;case o.PATTERN011:return(e+r)%3==0;case o.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case o.PATTERN101:return e*r%2+e*r%3==0;case o.PATTERN110:return(e*r%2+e*r%3)%2==0;case o.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new u([1],0),r=0;r<t;r++)e=e.multiply(new u([1,l.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,i=0;i<e;i++)for(var n=0;n<e;n++){for(var a=0,o=t.isDark(i,n),s=-1;s<=1;s++)if(!(i+s<0||e<=i+s))for(var l=-1;l<=1;l++)n+l<0||e<=n+l||0==s&&0==l||o==t.isDark(i+s,n+l)&&a++;a>5&&(r+=3+a-5)}for(i=0;i<e-1;i++)for(n=0;n<e-1;n++){var c=0;t.isDark(i,n)&&c++,t.isDark(i+1,n)&&c++,t.isDark(i,n+1)&&c++,t.isDark(i+1,n+1)&&c++,0!=c&&4!=c||(r+=3)}for(i=0;i<e;i++)for(n=0;n<e-6;n++)t.isDark(i,n)&&!t.isDark(i,n+1)&&t.isDark(i,n+2)&&t.isDark(i,n+3)&&t.isDark(i,n+4)&&!t.isDark(i,n+5)&&t.isDark(i,n+6)&&(r+=40);for(n=0;n<e;n++)for(i=0;i<e-6;i++)t.isDark(i,n)&&!t.isDark(i+1,n)&&t.isDark(i+2,n)&&t.isDark(i+3,n)&&t.isDark(i+4,n)&&!t.isDark(i+5,n)&&t.isDark(i+6,n)&&(r+=40);var u=0;for(n=0;n<e;n++)for(i=0;i<e;i++)t.isDark(i,n)&&u++;var h=Math.abs(100*u/e/e-50)/5;return r+=10*h,r}},l={glog:function(t){if(t<1)throw new Error("glog("+t+")");return l.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return l.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)l.EXP_TABLE[c]=1<<c;for(c=8;c<256;c++)l.EXP_TABLE[c]=l.EXP_TABLE[c-4]^l.EXP_TABLE[c-5]^l.EXP_TABLE[c-6]^l.EXP_TABLE[c-8];for(c=0;c<255;c++)l.LOG_TABLE[l.EXP_TABLE[c]]=c;function u(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var r=0;while(r<t.length&&0==t[r])r++;this.num=new Array(t.length-r+e);for(var i=0;i<t.length-r;i++)this.num[i]=t[i+r]}function h(t,e){this.totalCount=t,this.dataCount=e}function d(){this.buffer=[],this.length=0}u.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var i=0;i<t.getLength();i++)e[r+i]^=l.gexp(l.glog(this.get(r))+l.glog(t.get(i)));return new u(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=l.glog(this.get(0))-l.glog(t.get(0)),r=new Array(this.getLength()),i=0;i<this.getLength();i++)r[i]=this.get(i);for(i=0;i<t.getLength();i++)r[i]^=l.gexp(l.glog(t.get(i))+e);return new u(r,0).mod(t)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(t,e){var r=h.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=r.length/3,n=[],a=0;a<i;a++)for(var o=r[3*a+0],s=r[3*a+1],l=r[3*a+2],c=0;c<o;c++)n.push(new h(s,l));return n},h.getRsBlockTable=function(t,e){switch(e){case a.L:return h.RS_BLOCK_TABLE[4*(t-1)+0];case a.M:return h.RS_BLOCK_TABLE[4*(t-1)+1];case a.Q:return h.RS_BLOCK_TABLE[4*(t-1)+2];case a.H:return h.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},d.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var f=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function p(t){if(this.options={padding:0,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"===typeof t&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if("string"!==typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(t){switch(t){case"L":return a.L;case"M":return a.M;case"Q":return a.Q;case"H":return a.H;default:throw new Error("Unknwon error correction level: "+t)}}function n(t,e){for(var r=o(t),i=1,n=0,a=0,s=f.length;a<=s;a++){var l=f[a];if(!l)throw new Error("Content too long: expected "+n+" but got "+r);switch(e){case"L":n=l[0];break;case"M":n=l[1];break;case"Q":n=l[2];break;case"H":n=l[3];break;default:throw new Error("Unknwon error correction level: "+e)}if(r<=n)break;i++}if(i>f.length)throw new Error("Content too long");return i}function o(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}var s=this.options.content,l=n(s,this.options.ecl),c=r(this.options.ecl);this.qrcode=new i(l,c),this.qrcode.addData(s),this.qrcode.make()}p.prototype.svg=function(){for(var t=this.options,e=this.qrcode.modules,r=t.width,i=t.height,n=e.length,a=r/(n+2*t.padding),o=i/(n+2*t.padding),s='<rect x="0" y="0" width="'+r+'" height="'+i+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>',l=0;l<n;l++)for(var c=0;c<n;c++){var u=e[c][l];if(u){var h=(c*a+t.padding*a).toString(),d=(l*o+t.padding*o).toString();s+='<rect x="'+h+'" y="'+d+'" width="'+a+'" height="'+o+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'}}var f='<?xml version="1.0" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+r+'" height="'+i+'">';return f+=s,f+="</svg>",f},t.exports=function(t){return new p(t).svg()}},f1c2:function(t,e,r){}}]);